deals-content(ng-controller='DealsCtrl')
    header
        div#autopricer-header
            img(src="images/icap.jpg")
    #rounded-div
        #dealsOwner
            #dealsPanel
                #autoprice-settings
                    span Autopricing
                    .autoprice-button(simple-checkbox, on="images/checkbox/on.png", off="images/checkbox/off.png", flag="autopricing", change="changeAutopricing()")
                    a(href="", ng-click="move('settings/tiers')")
                        img(src="images/icons/settings.png")

                form.form-inline#deal-tools
                    b Group By:
                    .group-by(data-toggle="buttons-radio")
                        button.btn.active All
                        button.btn Auto / Manual
                        button.btn State
                    | &nbsp;&nbsp;&nbsp;
                    b View Deals:
                    label.checkbox
                        input(uniform, ng-model="activeFilter.active", type="checkbox")
                        | Active
                    label.checkbox
                        input(uniform, ng-model="completedFilter.active", type="checkbox")
                        | Completed
                    label.checkbox
                        input(uniform, ng-model="rejectedFilter.active", type="checkbox")
                        | Rejected
            table.table.table-hover(id="deals-grid", data="deals", deals-grid, tool-tips)
                thead
                    tr.group-header
                        th(colspan=2) &nbsp;
                        th(colspan=1) Customer
                        th(colspan=5) &nbsp;
                        th(colspan=1) User
                        th(colspan=8) LEG 1
                        th(colspan=1) &nbsp;
                        th(colspan=8) LEG 2
                        th(colspan=4) LEG 1 - Comp 1
                        th(colspan=4) LEG 1 - Comp 2
                        th(colspan=4) LEG 2 - Comp 1
                        th(colspan=4) LEG 2 - Comp 2
                    tr.header
                        th(data-mdata="dealId") Deal ID
                        th(data-mdata="dealRequestTime") Deal Request time
                        //- Customer
                        th.group(data-mdata="customerName") Customer name
                        //- Info
                        th.group(data-mdata="status", data-sclass="group") Status
                        th(data-mdata="inCompetition") In competition
                        th(data-mdata="ccyPair", data-sclass="group") CCY Pair
                        th(data-mdata="product") Product
                        th(data-mdata="dealtCurrency") Dealt Currency
                        //- User
                        th.group(data-mdata="user") Auto/Trader Name
                        //- Leg 1
                        th.group(data-mdata="leg1.tenor", data-sclass="group") Tenor
                        th(data-mdata="leg1.valueDate") Value Date
                        th(data-mdata="leg1.allInPriceBid") BID All in price
                        th(data-mdata="leg1.allInPriceAsk") ASK All in price
                        th(data-mdata="leg1.dealtAmount") Dealt amount
                        th(data-mdata="leg1.contraAmountBid") BID contra amount
                        th(data-mdata="leg1.contraAmountAsk") ASK contra amount
                        th(data-mdata="leg1.riskAmount") Risk Amount USD
                        //- FWD
                        th.group(data-mdata="leg1.fwdMarkupDps", data-sclass="group") FWD Mark up DPS
                        //- Leg 2
                        th.group(data-mdata="leg2.tenor", data-sclass="group") Tenor
                        th(data-mdata="leg2.valueDate") Value Date
                        th(data-mdata="leg2.allInPriceBid") BID All in price
                        th(data-mdata="leg2.allInPriceAsk") ASK All in price
                        th(data-mdata="leg2.dealtAmount") Dealt amount
                        th(data-mdata="leg2.contraAmountBid") BID contra amount
                        th(data-mdata="leg2.contraAmountAsk") ASK contra amount
                        th(data-mdata="leg2.riskAmount") Risk Amount USD
                        //- Leg1 - Comp1
                        th.group(data-mdata="leg1.comp1Pair", data-sclass="group") Pair
                        th(data-mdata="leg1.comp1Side") Side
                        th(data-mdata="leg1.comp1BidAllInPrice") BID All in price
                        th(data-mdata="leg1.comp1AskAllInPrice") ASK All in price
                        //- Leg1 - Comp2
                        th.group(data-mdata="leg1.comp2Pair", data-sclass="group") Pair
                        th(data-mdata="leg1.comp2Side") Side
                        th(data-mdata="leg1.comp2BidAllInPrice") BID All in price
                        th(data-mdata="leg1.comp2AskAllInPrice") ASK All in price
                        //- Leg2 - Comp1
                        th.group(data-mdata="leg2.comp1Pair", data-sclass="group") Pair
                        th(data-mdata="leg2.comp1Side") Side
                        th(data-mdata="leg2.comp1BidAllInPrice") BID All in price
                        th(data-mdata="leg2.comp1AskAllInPrice") ASK All in price
                        //- Leg2 - Comp2
                        th.group(data-mdata="leg2.comp2Pair", data-sclass="group") Pair
                        th(data-mdata="leg2.comp2Side") Side
                        th(data-mdata="leg2.comp2BidAllInPrice") BID All in price
                        th(data-mdata="leg2.comp2AskAllInPrice") ASK All in price

        #interventionOwner(ng-controller='InterventionsCtrl')
            #interventions-menu(ng-include="'/deals/interventions-list.html'")
            #intervention-content(ng-switch, on="selectedIntervention.type")
                span.intervention-holder(ng-switch-when="spot-type")
                    .spot-type(send-message="sendMessage(msg)", selected-intervention="selectedIntervention")
                span.intervention-holder(ng-switch-when="swap-type")
                    .swap-type(send-message="sendMessage(msg)", selected-intervention="selectedIntervention")
                span.intervention-holder(ng-switch-when="forward-type")
                    .forward-type(send-message="sendMessage(msg)", selected-intervention="selectedIntervention")
